<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Qudoro Companion</title>
    <link rel="stylesheet" href="./popup.css" />
  </head>
  <body>
    <main class="app">
      <header class="header card">
        <div class="brand">
          <img src="./icons/icon48.png" alt="Qudoro logo" class="brand-logo" />
          <h1>Highlight -> Snap -> Save questions into your app.</h1>
        </div>
      </header>

      <section class="card section">
        <h2>1 - CAPTURE TEXT</h2>
        <div class="row gap">
          <button id="captureSelectionBtn" class="pill primary">ðŸ”Ž Use Highlighted Text</button>
          <button id="pasteClipboardBtn" class="pill">ðŸ“‹ Paste Clipboard</button>
        </div>

        <textarea
          id="noteInput"
          rows="4"
          placeholder="Highlight a full question on the page, then click 'Use Highlighted Text' or paste text here."
        ></textarea>

        <button id="parseNoteBtn" class="full ghost">âœ¨ Parse into Question + Answers</button>
      </section>

      <section class="card section">
        <div class="row between">
          <h2>2 - EDIT QUESTION</h2>
          <span class="draft">Current draft</span>
        </div>

        <input id="frontText" type="text" placeholder="Question text" />

        <div class="option-row">
          <label>A.</label>
          <input id="optionA" type="text" placeholder="Option 1" />
          <button class="mark-btn" data-index="0">Mark correct</button>
        </div>
        <div class="option-row">
          <label>B.</label>
          <input id="optionB" type="text" placeholder="Option 2" />
          <button class="mark-btn" data-index="1">Mark correct</button>
        </div>
        <div class="option-row">
          <label>C.</label>
          <input id="optionC" type="text" placeholder="Option 3" />
          <button class="mark-btn" data-index="2">Mark correct</button>
        </div>
        <div class="option-row">
          <label>D.</label>
          <input id="optionD" type="text" placeholder="Option 4" />
          <button class="mark-btn" data-index="3">Mark correct</button>
        </div>

        <input id="backText" type="text" placeholder="Explanation / rationale (optional)" />

        <label class="checkbox">
          <input id="forceAddDuplicates" type="checkbox" />
          <span>Force add duplicates</span>
        </label>

        <button id="addCardBtn" class="full primary">+ Add to Snapshot List</button>
        <p id="addMessage" class="hint"></p>
      </section>

      <section class="card section">
        <div class="row between">
          <h2>Snapshot List</h2>
          <span id="cardCount">0</span>
        </div>
        <ul id="cardsList" class="cards"></ul>
      </section>

      <section class="card section">
        <div class="row between">
          <h2>Batch Queue</h2>
          <span id="batchCount">0</span>
        </div>
        <div class="row gap">
          <button id="addBatchBtn" class="ghost">Add All High Confidence</button>
          <button id="clearBatchBtn" class="ghost">Clear Queue</button>
        </div>
        <ul id="batchList" class="batch-list"></ul>
      </section>

      <section class="card section">
        <label for="setTitle">Set Title</label>
        <input id="setTitle" type="text" placeholder="Biology Chapter 3" />
        <label for="setDescription">Set Description</label>
        <textarea id="setDescription" rows="2" placeholder="Quick review set"></textarea>
      </section>

      <section class="card section">
        <div class="row gap">
          <button id="downloadBtn">Download Qudoro JSON</button>
          <button id="copyBtn" class="ghost">Copy JSON</button>
        </div>
      </section>
    </main>

    <script src="./popup.js"></script>
  </body>
</html>
